{
  "$id": "https://raw.githubusercontent.com/cyentific-rni/cacao-json-schemas/working/schemas/commands/http-api.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "http-api",
  "description": "The HTTP API command represents a command that is intended to be processed via an HTTP API. In addition to the inherited properties, this section defines the following additional properties that are valid for this type.",
  "type": "object",
  "allOf": [
    {
      "$ref": "./command-data.json"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "description": "The value of this property MUST be 'http-api'.",
          "enum": [
            "http-api"
          ]
        },
        "command": {
          "type": "string",
          "description": "A complete HTTP command that starts with an HTTP method and ends with the HTTP protocol designation as defined in the appropriate HTTP RFCs. For example: \n\n 'GET /api1/getObject?id=1234 HTTP/1.1' \n\n 'POST /api1/newObject HTTP/1.1'"
        },
        "payload": {
          "type": "string",
          "description": "A simple string-based payload for a given method (e.g., POST and PUT)."
        },
        "payload_b64": {
          "type": "string",
          "contentEncoding": "base64",
          "description": "A complex or binary payload for a given method (e.g., POST and PUT) that can not be encoded as a simple string and thus MUST be base64 encoded (see section 4 of [RFC 4648])."
        },
        "headers": {
          "type": "object",
          "description": "This property contains any required HTTP headers. \n\nThe key for each entry in the dictionary MUST be a string that uniquely identifies the header. The value for each key MUST be a list of string.",
          "additionalProperties": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    }
  ],
  "required": ["command"],
  "unevaluatedProperties": false
}